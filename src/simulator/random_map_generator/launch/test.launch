<launch>

  <arg name="odom_topic" value="/ugv/odometry" />
  <arg name="traj_topic" value="/planner/trajectory" />
  <arg name="cmd_topic" value="/ugv/command" />
  <arg name="sensor_topic" value="/ugv/laser" />
  <arg name="mesh_topic" value="/ugv/mesh" />
  <arg name="map_topic" value="/global_map" />

  <!-- 加载全局配置 -->
  <rosparam command="load" file="$(find plan_manage)/config/global_config.yaml" />
  <rosparam command="load" file="$(find kinematics_simulator)/params/simulator.yaml" />
  <rosparam command="load" file="$(find random_map_generator)/params/map.yaml" />
   
  <node pkg="kinematics_simulator" type="kinematics_simulator_node" name="kinematics_simulator_node" output="screen" required="true">
    <remap from ="~cmd" to="$(arg cmd_topic)"/>
    <remap from="~odom" to="$(arg odom_topic)"/>
    <remap from="~mesh" to="$(arg mesh_topic)"/>
  </node>

  <!-- <node pkg="random_map_generator" type="random_map" name="random_map" output="screen" required="true">
    <remap from ="~odom" to="$(arg odom_topic)"/>
    <remap from="~local_cloud" to="$(arg sensor_topic)"/>
    <remap from="~global_cloud" to="$(arg map_topic)"/>
  </node> -->

<!-- <node name="map_server" pkg="map_server" type="map_server" args="$(find random_map_generator)/maps/map_parking.yaml"/> -->
<node name="map_server" pkg="map_server" type="map_server" args="$(find random_map_generator)/maps/basement98.yaml"/>

<!-- <include file = "$(find turtlebot3_fake)/launch/turtlebot3_fake.launch">
         <arg name="origin_x_"  value="5"/>
        <arg name="origin_y_"   value="5"/>
        <arg name="origin_yaw_" value="90"/> 
    </include> -->

  <!-- rviz -->
  <node name="rviz" pkg="rviz" type="rviz" args="-d $(find random_map_generator)/rviz/default.rviz" required="true" />

</launch>